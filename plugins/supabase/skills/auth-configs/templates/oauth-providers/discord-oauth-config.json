{
  "provider": "discord",
  "displayName": "Discord",
  "description": "Sign in with Discord - Perfect for community-driven AI applications and gaming",
  "setup": {
    "consoleUrl": "https://discord.com/developers/applications",
    "steps": [
      "Go to Discord Developer Portal",
      "Click 'New Application'",
      "Give your application a name",
      "Navigate to 'OAuth2' section in the left sidebar",
      "Add redirect URIs (see below)",
      "Copy Client ID and Client Secret from OAuth2 page",
      "Configure OAuth2 scopes"
    ],
    "redirectUris": [
      "https://YOUR-PROJECT-REF.supabase.co/auth/v1/callback",
      "http://localhost:3000/auth/callback"
    ],
    "replaceInRedirectUris": {
      "YOUR-PROJECT-REF": "Replace with your Supabase project reference ID"
    }
  },
  "credentials": {
    "clientId": "YOUR_DISCORD_CLIENT_ID",
    "clientSecret": "YOUR_DISCORD_CLIENT_SECRET",
    "envVars": {
      "DISCORD_CLIENT_ID": "The OAuth2 Client ID from Discord Developer Portal",
      "DISCORD_CLIENT_SECRET": "The OAuth2 Client Secret from Discord Developer Portal"
    }
  },
  "scopes": {
    "default": [
      "identify",
      "email"
    ],
    "optional": [
      "guilds",
      "guilds.join",
      "connections",
      "messages.read"
    ],
    "description": "identify gives username/avatar, email gives email address. guilds allows seeing user's servers."
  },
  "configuration": {
    "supabaseDashboard": {
      "location": "Authentication > Providers > Discord",
      "settings": {
        "enabled": true,
        "clientId": "Paste from Discord Developer Portal",
        "clientSecret": "Paste from Discord Developer Portal",
        "redirectUrl": "Auto-generated by Supabase"
      }
    }
  },
  "implementation": {
    "signIn": {
      "javascript": "const { data, error } = await supabase.auth.signInWithOAuth({\n  provider: 'discord',\n  options: {\n    redirectTo: 'http://localhost:3000/auth/callback',\n    scopes: 'identify email'\n  }\n})",
      "typescript": "const { data, error } = await supabase.auth.signInWithOAuth({\n  provider: 'discord',\n  options: {\n    redirectTo: 'http://localhost:3000/auth/callback',\n    scopes: 'identify email'\n  }\n})"
    },
    "getUserData": {
      "description": "Access Discord user data from session",
      "code": "const { data: { user } } = await supabase.auth.getUser()\n\n// Discord-specific metadata\nconst discordUser = {\n  id: user.user_metadata.provider_id,\n  username: user.user_metadata.full_name,\n  discriminator: user.user_metadata.custom_claims?.discriminator,\n  avatar: user.user_metadata.avatar_url,\n  email: user.email\n}"
    }
  },
  "commonIssues": [
    {
      "issue": "Missing email",
      "solution": "Ensure 'email' scope is requested and user has verified email in Discord"
    },
    {
      "issue": "Avatar not loading",
      "solution": "Discord CDN URLs may expire. Store avatars locally or use user_metadata.avatar_url"
    },
    {
      "issue": "Guilds not accessible",
      "solution": "Request 'guilds' scope and ensure user has granted permission"
    }
  ],
  "useCases": [
    "Gaming-related AI chatbots",
    "Discord bot management platforms",
    "Community-driven AI assistants",
    "Voice chat transcription services",
    "Discord server analytics with AI",
    "AI moderation tools for Discord communities"
  ],
  "additionalFeatures": {
    "botIntegration": {
      "description": "Combine OAuth with Discord bot for enhanced features",
      "benefits": [
        "Send messages on behalf of user",
        "Access server information",
        "Manage user roles",
        "Real-time event handling"
      ],
      "note": "Requires separate Discord Bot token"
    },
    "guildData": {
      "description": "Access user's Discord servers with guilds scope",
      "useCase": "Build AI tools that work across multiple Discord communities",
      "scopes": [
        "guilds",
        "guilds.members.read"
      ]
    }
  },
  "userMetadata": {
    "available": [
      "provider_id - Discord user ID",
      "full_name - Discord username",
      "avatar_url - Discord avatar URL",
      "custom_claims.discriminator - Discord discriminator (#0000)",
      "email - Verified email address"
    ],
    "example": {
      "provider_id": "123456789012345678",
      "full_name": "AIEnthusiast",
      "avatar_url": "https://cdn.discordapp.com/avatars/123456789012345678/abc123.png",
      "email": "user@example.com"
    }
  }
}
